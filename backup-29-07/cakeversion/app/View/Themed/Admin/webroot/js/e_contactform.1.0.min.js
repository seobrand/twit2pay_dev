/*
 * ************************************************************* *
 * Name       : eContactForm                                     *
 * Date       : September 2011                                   *
 * Owner      : CreativeMilk                                     *
 * Url        : www.creativemilk.net                             *
 * Version    : 1.0                                              *
 * Updated    : --/--/----                                       *
 * Developer  : Mark                                             *
 * Dependency :                                                  *
 * Lib        : jQuery 1.4+                                      *
 * Licence    : NOT free                                         *
 * http://themeforest.net/item/elite-a-powerfull-responsive-admin-theme/2997200
 * ************************************************************* *
 */
 
;(function(a,b,c,d){a.fn.eContactForm=function(b){b=a.extend({},a.fn.eContactForm.options,b);return this.each(function(){function h(a,c){if(!a.parents("."+f).length){var e=a.parent("div");if(c===d){var g=b.labelError}else{var g=c}if(e.hasClass("e-checkbox")||e.hasClass("e-select")||e.hasClass("e-select-multiple")){if(e.hasClass("e-checkbox")){var h="width:auto;float:left;"}else{var h=""}a.parent().wrap('<div class="'+f+' clearfix" style="'+h+'"/>').parent("."+f).prepend("<span>"+g+"<span></span></span>")}else{a.wrap('<div class="'+f+' clearfix"/>').parent("."+f).prepend("<span>"+g+"<span></span></span>")}}}function i(a){var b=a.parents("."+f);if(b.length){b.children("span").remove().end().replaceWith(b.contents())}}var c=a(this);var e=c.find("input:not([type=submit]), select, textarea");var f="e-contactform-errorlabel";var g="e-af-match";c.submit(function(g){if(typeof b.before=="function"){b.before.call(this)}a("."+f).children("span").show();e.each(function(){var b=a(this);var e=b.attr("data-validation-type");var f=b.attr("data-validation-label");var g=b.attr("data-validation-match-value");var j=b.attr("data-validation-minimum");var k=b.attr("data-validation-maximum");var g=b.attr("data-validation-match");if(j===d){var l=0}else{var l=j-1}if(k===d){var m=1e7}else{var m=k}switch(e){case"present":if(b.is("[type=checkbox]")){if(b.is(":checked")){i(b)}else{h(b,f)}}else if(b.is("select")){if(a.trim(b.val()).length>0){i(b)}else{h(b,f)}}else{if(a.trim(b.val()).length>l&&b.val().length<m){i(b)}else{h(b,f)}}break;case"email":var n=b.val();var o=/^[a-zA-Z0-9]+[a-zA-Z0-9_.-]+[a-zA-Z0-9_-]+@[a-zA-Z0-9]+[a-zA-Z0-9.-]+[a-zA-Z0-9]+.[a-z]{2,4}$/;if(o.test(n)){i(b)}else{h(b,f)}break;case"url":var n=b.val();var o=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(o.test(n)){i(b)}else{h(b,f)}break;case"numbers":var n=b.val();var o=/^[0+9]$/;if(a.trim(b.val()).length>l&&b.val().length<m&&o.test(n)){i(b)}else{h(b,f)}break;case"date":var n=b.val();var o=/^[0-9]{2}\-[0-9]{2}\-[0-9]{4}$/i;if(o.test(n)){i(b)}else{h(b,f)}break;case"letters":var n=b.val();var o=/^[A-Za-z ]+$/;if(a.trim(b.val()).length>l&&b.val().length<m&&o.test(n)){i(b)}else{h(b,f)}break;case"regex":var n=b.val();var o=b.attr("valdiation-regex");if(o.test(n)){i(b)}else{h(b,f)}break;case"password":if(a.trim(b.val()).length>l&&b.val().length<m){if(b.val()==c.find('[data-validation-type="password"]').not(b).val()){i(b)}else{h(b,f)}}else{h(b,f)}break;case"match":if(b.val()==g){i(b)}else{h(b,f)}break;case"ip":var n=b.val();var o=/\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/;if(o.test(n)){i(b)}else{h(b,f)}break}});if(c.find("."+f).length){return false}else{if(b.useAjax===true){a(".e-contactform-infobox").remove();c.prepend('<div class="e-contactform-infobox"></div>');a.ajax({type:c.attr("method"),url:c.attr("action"),data:c.serialize(),dataType:"html",error:function(){a(".e-contactform-infobox").addClass("e-contactform-fail-color").text(b.labelFail).slideDown(200)},success:function(){a(".e-contactform-infobox").addClass("e-contactform-success-color").text(b.labelSuccess).slideDown(200);if(typeof b.after=="function"){b.after.call(this)}}});return false}else{return true}}});if(b.keydown===true){e.keydown(function(){a(this).parents("."+f).children("span").hide()})}})};a.fn.eContactForm.options={labelError:"This field is required!",labelSuccess:"Your message has been send successfully!",labelFail:"The form has not been send, please try it again!",keydown:true,useAjax:true,before:function(){},after:function(){}}})(jQuery,window,document)